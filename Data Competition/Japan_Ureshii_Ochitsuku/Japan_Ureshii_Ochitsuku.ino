//L298Nデュアルモータドライバを用いたDCモータ制御
// デジタルピンの定義
const int IN1 = 9;
const int IN2 = 8;
const int IN3 = 7;
const int IN4 = 6;
const int ENA = 10;  // PWM制御で使うENAピンをD9に(モーター1のPWM制御ピン)
const int ENB = 5;   // PWM制御で使うENBピンをD10に(モーター2のPWM制御ピン)
void setup() {
  pinMode(IN1, OUTPUT);  // デジタルピンを出力に設定
  pinMode(IN2, OUTPUT);
  pinMode(IN3, OUTPUT);
  pinMode(IN4, OUTPUT);
  pinMode(ENA, OUTPUT);
  pinMode(ENB, OUTPUT);
}
void loop() {
  digitalWrite(IN1, HIGH);  // HIGH LOWの組み合わせでモーター回転
  digitalWrite(IN2, LOW);   // 2つのモーターを正回転
  digitalWrite(IN3, HIGH);
  digitalWrite(IN4, LOW);

  int i;
  
  //モータの回転数を徐々に上げることで電圧の急激な印加を防げたら良いなと思ってるけど、効果があるのかは知らん
  for (i = 0; 0 < i < 150; i++) {
    analogWrite(ENA, i);
    analogWrite(ENB, i);
    delay(30);
  }

  //うれしいおちつく
  analogWrite(ENA, 137);
  analogWrite(ENA, 156);
  delay(1000);
  analogWrite(ENA, 140);
  analogWrite(ENA, 155);
  delay(1000);
  analogWrite(ENA, 135);
  analogWrite(ENA, 153);
  delay(1000);
  analogWrite(ENA, 141);
  analogWrite(ENA, 155);
  delay(1000);
  analogWrite(ENA, 140);
  analogWrite(ENA, 150);
  delay(1000);
  analogWrite(ENA, 136);
  analogWrite(ENA, 149);
  delay(1000);
  analogWrite(ENA, 134);
  analogWrite(ENA, 150);
  delay(1000);
  analogWrite(ENA, 135);
  analogWrite(ENA, 145);
  delay(1000);
  analogWrite(ENA, 165);
  analogWrite(ENA, 144);
  delay(1000);
  analogWrite(ENA, 153);
  analogWrite(ENA, 138);
  delay(1000);
  analogWrite(ENA, 148);
  analogWrite(ENA, 147);
  delay(1000);
  analogWrite(ENA, 132);
  analogWrite(ENA, 146);
  delay(1000);
  analogWrite(ENA, 139);
  analogWrite(ENA, 152);
  delay(1000);
  analogWrite(ENA, 133);
  analogWrite(ENA, 153);
  delay(1000);
  analogWrite(ENA, 135);
  analogWrite(ENA, 159);
  delay(1000);
  analogWrite(ENA, 137);
  analogWrite(ENA, 157);
  delay(1000);
  analogWrite(ENA, 142);
  analogWrite(ENA, 155);
  delay(1000);
  analogWrite(ENA, 140);
  analogWrite(ENA, 162);
  delay(1000);
  analogWrite(ENA, 141);
  analogWrite(ENA, 148);
  delay(1000);
  analogWrite(ENA, 142);
  analogWrite(ENA, 151);
  delay(1000);
  analogWrite(ENA, 145);
  analogWrite(ENA, 163);
  delay(1000);
  analogWrite(ENA, 143);
  analogWrite(ENA, 158);
  delay(1000);
  analogWrite(ENA, 145);
  analogWrite(ENA, 155);
  delay(1000);
  analogWrite(ENA, 137);
  analogWrite(ENA, 164);
  delay(1000);
  analogWrite(ENA, 145);
  analogWrite(ENA, 154);
  delay(1000);
  analogWrite(ENA, 147);
  analogWrite(ENA, 156);
  delay(1000);
  analogWrite(ENA, 144);
  analogWrite(ENA, 153);
  delay(1000);
  analogWrite(ENA, 142);
  analogWrite(ENA, 158);
  delay(1000);
  analogWrite(ENA, 141);
  analogWrite(ENA, 153);
  delay(1000);
  analogWrite(ENA, 136);
  analogWrite(ENA, 149);
  delay(1000);
  analogWrite(ENA, 154);
  analogWrite(ENA, 169);
  delay(1000);
  analogWrite(ENA, 136);
  analogWrite(ENA, 155);
  delay(1000);
  analogWrite(ENA, 128);
  analogWrite(ENA, 158);
  delay(1000);
  analogWrite(ENA, 128);
  analogWrite(ENA, 155);
  delay(1000);
  analogWrite(ENA, 132);
  analogWrite(ENA, 151);
  delay(1000);
  analogWrite(ENA, 133);
  analogWrite(ENA, 158);
  delay(1000);
  analogWrite(ENA, 144);
  analogWrite(ENA, 158);
  delay(1000);
  analogWrite(ENA, 141);
  analogWrite(ENA, 153);
  delay(1000);
  analogWrite(ENA, 133);
  analogWrite(ENA, 141);
  delay(1000);
  analogWrite(ENA, 129);
  analogWrite(ENA, 140);
  delay(1000);
  analogWrite(ENA, 133);
  analogWrite(ENA, 151);
  delay(1000);
  analogWrite(ENA, 142);
  analogWrite(ENA, 146);
  delay(1000);
  analogWrite(ENA, 140);
  analogWrite(ENA, 148);
  delay(1000);
  analogWrite(ENA, 138);
  analogWrite(ENA, 147);
  delay(1000);
  analogWrite(ENA, 139);
  analogWrite(ENA, 143);
  delay(1000);
  analogWrite(ENA, 136);
  analogWrite(ENA, 156);
  delay(1000);
  analogWrite(ENA, 134);
  analogWrite(ENA, 151);
  delay(1000);
  analogWrite(ENA, 149);
  analogWrite(ENA, 168);
  delay(1000);
  analogWrite(ENA, 135);
  analogWrite(ENA, 155);
  delay(1000);
  analogWrite(ENA, 133);
  analogWrite(ENA, 150);
  delay(1000);
  analogWrite(ENA, 136);
  analogWrite(ENA, 148);
  delay(1000);
  analogWrite(ENA, 141);
  analogWrite(ENA, 152);
  delay(1000);
  analogWrite(ENA, 140);
  analogWrite(ENA, 153);
  delay(1000);
  analogWrite(ENA, 138);
  analogWrite(ENA, 155);
  delay(1000);
  analogWrite(ENA, 134);
  analogWrite(ENA, 148);
  delay(1000);
  analogWrite(ENA, 139);
  analogWrite(ENA, 154);
  delay(1000);
  analogWrite(ENA, 132);
  analogWrite(ENA, 147);
  delay(1000);
  analogWrite(ENA, 125);
  analogWrite(ENA, 131);
  delay(1000);
  analogWrite(ENA, 137);
  analogWrite(ENA, 143);
  delay(1000);
  analogWrite(ENA, 127);
  analogWrite(ENA, 149);
  delay(1000);
  analogWrite(ENA, 135);
  analogWrite(ENA, 149);
  delay(1000);
  analogWrite(ENA, 141);
  analogWrite(ENA, 147);
  delay(1000);
  analogWrite(ENA, 141);
  analogWrite(ENA, 155);
  delay(1000);
  analogWrite(ENA, 140);
  analogWrite(ENA, 153);
  delay(1000);
  analogWrite(ENA, 137);
  analogWrite(ENA, 154);
  delay(1000);
  analogWrite(ENA, 134);
  analogWrite(ENA, 150);
  delay(1000);
  analogWrite(ENA, 134);
  analogWrite(ENA, 150);
  delay(1000);
  analogWrite(ENA, 143);
  analogWrite(ENA, 150);
  delay(1000);
  analogWrite(ENA, 138);
  analogWrite(ENA, 148);
  delay(1000);
  analogWrite(ENA, 137);
  analogWrite(ENA, 150);
  delay(1000);
  analogWrite(ENA, 143);
  analogWrite(ENA, 155);
  delay(1000);
  analogWrite(ENA, 144);
  analogWrite(ENA, 151);
  delay(1000);
  analogWrite(ENA, 143);
  analogWrite(ENA, 155);
  delay(1000);
  analogWrite(ENA, 139);
  analogWrite(ENA, 155);
  delay(1000);
  analogWrite(ENA, 146);
  analogWrite(ENA, 158);
  delay(1000);
  analogWrite(ENA, 137);
  analogWrite(ENA, 156);
  delay(1000);
  analogWrite(ENA, 148);
  analogWrite(ENA, 158);
  delay(1000);
  analogWrite(ENA, 149);
  analogWrite(ENA, 154);
  delay(1000);
  analogWrite(ENA, 151);
  analogWrite(ENA, 148);
  delay(1000);
  analogWrite(ENA, 147);
  analogWrite(ENA, 149);
  delay(1000);
  analogWrite(ENA, 137);
  analogWrite(ENA, 157);
  delay(1000);
  analogWrite(ENA, 159);
  analogWrite(ENA, 174);
  delay(1000);
  analogWrite(ENA, 148);
  analogWrite(ENA, 163);
  delay(1000);
  analogWrite(ENA, 136);
  analogWrite(ENA, 154);
  delay(1000);
  analogWrite(ENA, 133);
  analogWrite(ENA, 156);
  delay(1000);
  analogWrite(ENA, 137);
  analogWrite(ENA, 156);
  delay(1000);
  analogWrite(ENA, 138);
  analogWrite(ENA, 159);
  delay(1000);
  analogWrite(ENA, 138);
  analogWrite(ENA, 159);
  delay(1000);
  analogWrite(ENA, 140);
  analogWrite(ENA, 150);
  delay(1000);
  analogWrite(ENA, 137);
  analogWrite(ENA, 159);
  delay(1000);
  analogWrite(ENA, 142);
  analogWrite(ENA, 153);
  delay(1000);
  analogWrite(ENA, 151);
  analogWrite(ENA, 156);
  delay(1000);
  analogWrite(ENA, 197);
  analogWrite(ENA, 144);
  delay(1000);
  analogWrite(ENA, 171);
  analogWrite(ENA, 149);
  delay(1000);
  analogWrite(ENA, 145);
  analogWrite(ENA, 147);
  delay(1000);
  analogWrite(ENA, 141);
  analogWrite(ENA, 157);
  delay(1000);
  analogWrite(ENA, 135);
  analogWrite(ENA, 158);
  delay(1000);
}